{
  "VirtualNetwork": {
    "Name": "todoapp",
    "AddressSpace": "10.20.30.0/24",
    "Subnets": [
      {
        "Name": "webservers",
        "AddressRange": "10.20.30.0/26",
        "Purpose": "Front-end web application servers",
        "Security": {
          "NSG_Rules": [
            "Дозволити вхідний HTTPS (порт 443) з Інтернету",
            "Дозволити вхідний HTTP (порт 80) з Інтернету (якщо застосовно, для перенаправлення)",
            "Дозволити вихідний трафік до App Subnet (конкретні порти)",
            "Заборонити весь інший вхідний/вихідний трафік"
          ]
        },
        "Scalability": "Використання балансувальника навантаження для розподілу трафіку між веб-серверами."
      },
      {
        "Name": "database",
        "AddressRange": "10.20.30.64/26",
        "Purpose": "Database servers",
        "Security": {
          "NSG_Rules": [
            "Дозволити вхідний трафік з App Subnet (конкретний порт бази даних, наприклад, 1433 для SQL)",
            "Дозволити вхідний трафік з Management Subnet (для адміністрування)",
            "Заборонити весь інший вхідний трафік з Інтернету",
            "Заборонити весь інший вхідний/вихідний трафік"
          ],
          "BestPractices": [
            "Використання приватних кінцевих точок (Private Endpoints) для PaaS баз даних"
          ]
        },
        "Scalability": "Можливість налаштування реплікації бази даних та кластеризації."
      },
      {
        "Name": "management",
        "AddressRange": "10.20.30.128/26",
        "Purpose": "Management jump-box / administrative tools",
        "Security": {
          "NSG_Rules": [
            "Дозволити вхідний трафік з певних адміністративних IP-адрес (наприклад, підмережі VPN/Bastion)",
            "Дозволити вихідний трафік до Web/App/DB Subnets (для завдань управління)",
            "Заборонити весь інший вхідний/вихідний трафік"
          ],
          "BestPractices": [
            "Впровадити доступ Just-in-Time (JIT) до віртуальних машин",
            "Використовувати Azure Bastion для безпечного RDP/SSH доступу"
          ]
        },
        "Scalability": "Можливість розгортання додаткових 'jump-box' віртуальних машин за необхідності."
      }
    ],
    "NetworkServices": [
      {
        "Type": "Балансувальник навантаження (Load Balancer)",
        "Purpose": "Розподіл трафіку на веб-сервери для високої доступності та масштабованості"
      },
      {
        "Type": "Шлюз додатків (Application Gateway) (опціонально)",
        "Purpose": "Веб-фаєрвол (WAF), розвантаження SSL, маршрутизація на рівні 7"
      },
      {
        "Type": "Шлюз VPN / ExpressRoute (опціонально)",
        "Purpose": "Безпечне підключення до локальних мереж"
      }
    ],
    "ScalabilityConsiderations": [
      "Можливість розширення діапазонів адрес підмереж у разі потреби (потребує ретельного планування)",
      "Інтеграція з автомасштабуванням для масштабованих наборів віртуальних машин (VM Scale Sets)",
      "Моніторинг та журналювання для продуктивності мережі та подій безпеки"
    ]
  }
}
